[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUQW8bNxCF7/srCMGH9kBRstXAacCD3WxSI0YaeBXkYBsLLne8S4g73HCGstym/71YSXYiW0EdRCdpON+bpwH5Lj+i4+vsNZCNrmcXUL9LFXjg7I+AtRsqHwy3+coRk1aJovLBGq8qh2qxbc0u4HNyEUjbgGwcQqzHBHHpLGRZdllsvl5nF0BsImvjb80dZTkuXQzYAfIb50ErYKtquDHJ84N4kawFonzluGDDifR0dpTlK7DFoPUhgl6bqQy1QoWelfk7RVAPVuheakztHq5b1C4K2Qu1NFF5Vz1Mfk6vRfc9L9KKkbsRl+Lgly4kZPFFNBF6cTV6POlqJL6IWyuk/1VID2IirsUrwS2g2Ixd41JWDusnNp8WXokbN9rnfivTmQVIak2Ep2pZ9gikgaQ7suyFvBUIPHb9cjZm25cRODqgQ338/5ANEcYUOrOyAVFPXxwdz35gVGdWJd1hWRm78KF5Lr+e2gGRaaC0gVjPJj9IVSkS6+PJcxeD4Jp2vL3F48aW3Eagdqpnk5cvfk7jUB9PXx7+nMbRdnW7KnIjAxWbygMJyQLNcFe8I97b6vrHrZg6iM7eQ4/3tRsdNuCNa1KEcv1aJ8Pb/Ap8J2jEVSa2HykBh/lyiBmIOycYapDeVOBJjw7+effxND/P5+X7v17n5fnJaX5e/DvaAZb6UEj5EBgyJmTXgY7QBQYh7wsywucExHL4ERLr6W/dPlAC1n1wyDqhW/2ulIoJvwZSrb6NyWAXu2aCTx3I3qfGoaxd3MTisIKIwEBq07FpoG/Yg/t/+ub85G2x7+Aif3tWzPOL9S72lD+dzf8s5ydn7+dFll2eIbHx/jr7ZJChPr3TXfLsZCKIYzaxAf4vAAD//0p6fwdABgAA



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
        sandbox_image = "oss/kubernetes/pause:1.3.1"
        [plugins."io.containerd.grpc.v1.cri".containerd]
            [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/runc"
            [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/runc"
    
    [plugins."io.containerd.grpc.v1.cri".cni]
    bin_dir = "/opt/cni/bin"
    conf_dir = "/etc/cni/net.d"
    conf_template = "/etc/containerd/kubenet_template.conf"
    
    [plugins."io.containerd.grpc.v1.cri".registry.headers]
      X-Meta-Source-Client = ["azure/aks"]
    [metrics]
    address = "127.0.0.1:10257"
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promisMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF


- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF





- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]