[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6xXfXPaOBr/35/iqcvkpVtjIN20uQ69oeA0XChwtsneXbfjMdZj0GAkV5JJsm2++41sMCZhN8lO/UcmSM/L73n7SXr5wp5SZk9DOTcc1w3O+wMn+K3jdy8Cv//ZGU389ikYEhVYNwaN4QtYMdg8VXb4RybQjjhTIWUopJ0KvqKSclaP+DJNUCF8fQ9qjsyA/MNozsHsJAJDcgsiZKA4yCyKUErAG6oom9XrdXMjfkMVNIyYGkauWTsiocLj17WjOZeKhUs8fg1ShUJFmVR8KSNBU/XhQ45uaRgxF0CBMqgdSfwGTTg5bTSO3wPhuYMiGPlYMIHkmYiwLuf3ogGYCUzBOv8Ghy8vnMHYcT1ndH74DIMHBzAVGC5yizHdwqpRsPBbDviB1zwttf21yoUwkVhKywQxhebGA+EMDYkELAqmXYFtE/PpwI3iv2coGNchVUHMRRDTBIvAmo/qUyZVmCRS5+rHj7+O/ImQKib/JqiIs5jOfiamrUUjn7RfbgzH7/aCseO4Qddx/XbtqJiA77vr/fN+t+M73h38gChTYJHDL4d6QFvbha/5QnO78DpfqB0d1b4PRz0n6A97zn/ufmkeHx9X3F46/93ndez2rzq+o7d/ntc1u+T08gVqIw/abah1R64z8oKRFww7nx34Wp2Dgkm685DNKJsBwTjMEgWLbIqRSmBKGSQ8ChXlrGCTy8lHp+sP2nkp1mI5s5SUtgqFLTJmC5xyriyB3zIqkOyMn+t8HI181/n3pO86vbYSGRrltN3bjEO9oV0U5c0EdsiSsolEsQnVrH3/NJ4EOiF3Jrxog6lNmruxRgmGbJJ+Gk96gq5QyNzo1UUvGIw+eXnbjTv+RbvSZas5sdaNXnJxGWntgSo8TC1BhZFCAjOeEGRAl+EMIRW4sWtWsXU3Xd3XYjLfOp8MBkF/6PmdwSC4l5UyZ2Ua+l5wddG7M6ENOgW7GdjCmkhd7quLHhAqleAwzRTkw7snKsYVxDxjxNzDnVo8n9jhyA/OR5Nhr0rC+8Hn9d40zbZRJx8nQ39SaVTN6zqqvVZ0iJsyV2Jcp7WHqdympwj6U6UE70EuaJoWTZ8iI8giinKjvu74J2CsVpxJ3ZwZoapXqBbGyqq6GVN0ieW6oHp6SrkhqmsuFuMkm1FWrl5mU0xQXRaz1mFE/zcW/Oa2iu3FY4OeY3PH3WKSBIYKtaHPIaMxStWjojJgl+9k5Vd32Df0V9gooyHl0mfOqOLCQ7GiEW5W18DXv/7FM8HCJMe8v6DVIj455/rb7e0WIc0Im2+txtsztN40TiJrevJrywqbZ60mYqvxFhE+gC1vpT3NpL1a6r+koAR7vgoyRRM7Y1PKyPb0X5/0zRP6+0/38jszwUYV2SKqa7ZNNhMUU0Msc1LVu6GmpVTVdV3qxD47S1FQTmj0nB4NUxXMUAVpJmYIrQacNKDZakCYhtEcW5aGJeGgoMbOoN/r+P3RMHBct90wjM64H3iOe+W4QW/oBa7ju33Ha7caGwQVgdx3uw2v6qmgq1BhQtmi/qoK50/N5ZdV1/HatSOBStxGSxLQOIhDmmQCofZ9v+advpsCkwnniyzdFdNw7o4Nz/fatX9u4Hp+PjmN3RytN10nT+crs3n6rn56Um+2zurNU/MVPOzAe5nKifHynRdU/Hf+N3GdHOxgNLqcjIPzTn/w8Jr5BEv7bMR0S3YV0e5oOCzT+mujGt3zKlV8f2a52WhUSf/RklWV1zWLwFr9sadi8ObNib4ePiEvudU8I2varu3eJO6fzYfFDQU2N5TXUCzoM4FxgvrF04QlZZnCw1ytfOGBFYEp55ki/JqBJaAJB+bfYK4wVctQLH7rDCjLbjozZAoyNucJgYMHdX2eaTuTwk7otKQNeSsVLkmdhDS5XZt/Koby6Wh28xciFE9EiCmjco6krlsDJIoVCog4YxjpAxSiOUYLiDjBf5hQ263hX7xFkZG9L9HlglABVrr/IaBvC4pn0fzJz2ojlRBmN/H1tabqrVIpaaWynvAZHBhGceO5F4Lx0hmdG/8PAAD//z5cRSP7DwAA

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUQW8bNxCF7/srCMGH9kBRstXAacCD3WxSI0YaeBXkYBsLLne8S4g73HCGstym/71YSXYiW0EdRCdpON+bpwH5Lj+i4+vsNZCNrmcXUL9LFXjg7I+AtRsqHwy3+coRk1aJovLBGq8qh2qxbc0u4HNyEUjbgGwcQqzHBHHpLGRZdllsvl5nF0BsImvjb80dZTkuXQzYAfIb50ErYKtquDHJ84N4kawFonzluGDDifR0dpTlK7DFoPUhgl6bqQy1QoWelfk7RVAPVuheakztHq5b1C4K2Qu1NFF5Vz1Mfk6vRfc9L9KKkbsRl+Lgly4kZPFFNBF6cTV6POlqJL6IWyuk/1VID2IirsUrwS2g2Ixd41JWDusnNp8WXokbN9rnfivTmQVIak2Ep2pZ9gikgaQ7suyFvBUIPHb9cjZm25cRODqgQ338/5ANEcYUOrOyAVFPXxwdz35gVGdWJd1hWRm78KF5Lr+e2gGRaaC0gVjPJj9IVSkS6+PJcxeD4Jp2vL3F48aW3Eagdqpnk5cvfk7jUB9PXx7+nMbRdnW7KnIjAxWbygMJyQLNcFe8I97b6vrHrZg6iM7eQ4/3tRsdNuCNa1KEcv1aJ8Pb/Ap8J2jEVSa2HykBh/lyiBmIOycYapDeVOBJjw7+effxND/P5+X7v17n5fnJaX5e/DvaAZb6UEj5EBgyJmTXgY7QBQYh7wsywucExHL4ERLr6W/dPlAC1n1wyDqhW/2ulIoJvwZSrb6NyWAXu2aCTx3I3qfGoaxd3MTisIKIwEBq07FpoG/Yg/t/+ub85G2x7+Aif3tWzPOL9S72lD+dzf8s5ydn7+dFll2eIbHx/jr7ZJChPr3TXfLsZCKIYzaxAf4vAAD//0p6fwdABgAA



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    root = "/mnt/containers"
    [plugins."io.containerd.grpc.v1.cri"]
        sandbox_image = "oss/kubernetes/pause:1.3.1"
        [plugins."io.containerd.grpc.v1.cri".containerd]
            [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/runc"
            [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/runc"
    
    [plugins."io.containerd.grpc.v1.cri".registry.headers]
      X-Meta-Source-Client = ["azure/aks"]
    [metrics]
    address = "127.0.0.1:10257"
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promisMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]