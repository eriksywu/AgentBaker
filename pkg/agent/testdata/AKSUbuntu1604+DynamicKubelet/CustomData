[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUX0/bMBTF3/MprIqH7cFJWypUhPwAI7CKiiFSxEOpIse9Tbw6duR7U9qNffepf0ArLRqIPF6f3zknlnWHd1bTKDgHVF5XpJ0VV3UGBij45uxYLyc3kop4rpFQRDX6yDglTZRpG0030iAYJuBnWsEouAUk6UlI8ygXGMR2pr2zJVi60AZEBKSiMUxkbeiFT2qlADGea0pIUo2i1TkM4jmoZOl140Gs8jKJBYtcRZH8VXuIlLMktQWPz1YhFnu4cjrWnvGKRTPpI6Ozl+T3aJXVb3XhijX0hA3ZwZfS1ZbYE8s9VOyh8TrpocGe2KNi3Hxl3ABrshE7YVSAZevYFc55pu14p+bu4IRNdGNf+41NKafAsZAedt2C4BWISxIXqMgw/sgsUKirWSckVaUeyGvAtuj+H1LOQ4iulHPlrBWto8Nu5wNRpZynuLBpJtXUuPy9/Cq1BESZQ6ockug0P0hltUcS3eZ7L8aCzotw84rDXKVUeMCiJTrN46PPebRFt3Xc/pzH4ebqtl342gYykpkBZJyYlcu3YjTSXqmuXkttXYLXagd6YzGwh4BtPs7BLs04gp+B3zqxbgzcyAwMisbB76u7s7gfD9LrH+dx2j89i/vJn8YWMBNttj1wpi6BV6bOteVj7dd7ZlnDWyDAaK1YC3CLVc5OdM72Lab1UfgTnf0HOXgueNE/vUz2HdzGl71kEN+ufmHP+L43+J4OTnvXgyQIhj2LJI0ZBffSEozPFqKsDWleI/iQpM+B/gYAAP//lA9GUacFAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    LimitNPROC=infinity
    LimitCORE=infinity
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }








- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--azure-container-registry-config=/etc/kubernetes/azure.json --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --dynamic-config-dir=/var/lib/kubelet 
    KUBELET_REGISTER_SCHEDULABLE=true
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]