[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUQW8bNxCF7/srCMGH9kBRstXAacCD3WxSI0YaeBXkYBsLLne8S4g73HCGstym/71YSXYiW0EdRCdpON+bpwH5Lj+i4+vsNZCNrmcXUL9LFXjg7I+AtRsqHwy3+coRk1aJovLBGq8qh2qxbc0u4HNyEUjbgGwcQqzHBHHpLGRZdllsvl5nF0BsImvjb80dZTkuXQzYAfIb50ErYKtquDHJ84N4kawFonzluGDDifR0dpTlK7DFoPUhgl6bqQy1QoWelfk7RVAPVuheakztHq5b1C4K2Qu1NFF5Vz1Mfk6vRfc9L9KKkbsRl+Lgly4kZPFFNBF6cTV6POlqJL6IWyuk/1VID2IirsUrwS2g2Ixd41JWDusnNp8WXokbN9rnfivTmQVIak2Ep2pZ9gikgaQ7suyFvBUIPHb9cjZm25cRODqgQ338/5ANEcYUOrOyAVFPXxwdz35gVGdWJd1hWRm78KF5Lr+e2gGRaaC0gVjPJj9IVSkS6+PJcxeD4Jp2vL3F48aW3Eagdqpnk5cvfk7jUB9PXx7+nMbRdnW7KnIjAxWbygMJyQLNcFe8I97b6vrHrZg6iM7eQ4/3tRsdNuCNa1KEcv1aJ8Pb/Ap8J2jEVSa2HykBh/lyiBmIOycYapDeVOBJjw7+effxND/P5+X7v17n5fnJaX5e/DvaAZb6UEj5EBgyJmTXgY7QBQYh7wsywucExHL4ERLr6W/dPlAC1n1wyDqhW/2ulIoJvwZSrb6NyWAXu2aCTx3I3qfGoaxd3MTisIKIwEBq07FpoG/Yg/t/+ub85G2x7+Aif3tWzPOL9S72lD+dzf8s5ydn7+dFll2eIbHx/jr7ZJChPr3TXfLsZCKIYzaxAf4vAAD//0p6fwdABgAA



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
        sandbox_image = "oss/kubernetes/pause:1.3.1"
        [plugins."io.containerd.grpc.v1.cri".containerd]
            [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/runc"
            [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
                runtime_type = "io.containerd.runtime.v1.linux"
                runtime_engine = "/usr/bin/runc"
    
    [plugins."io.containerd.grpc.v1.cri".registry.headers]
      X-Meta-Source-Client = ["azure/aks"]
    [metrics]
    address = "127.0.0.1:10257"
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promisMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]