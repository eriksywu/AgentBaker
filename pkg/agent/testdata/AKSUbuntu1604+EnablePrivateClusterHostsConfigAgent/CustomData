[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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






- path: /opt/azure/containers/reconcilePrivateHosts.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/3SS4U/bOhTFv/uvOJjoPUBy0/IekyhkDI2iVTDoVG1fEJtMckMtUjvYNx0b8L9PSUNJJ9EvtePj3/U992xuxDfGxjc6zIQIxFAO1lU2EL9sS1NSrk0hxC2x0qUJ5BfklSlV7t1csb4NW9t4FEC9TKKttPIFVJieQ32C/EysM816CPYVScgZczmM48G7/d7u3v+99j+et7rY2MDaphSnbl5WTHGNPdKlUQvywTib7PYH+6r/nxoM/smdn2tOmB5YbgvA5LiCjI4kkgSyL3F9AJ6RFQAwPp0m8kDCk86gvK4ffG4C4/DwEDKq68hGmDsPA2Mho8dWc/Xh+lkeIHONoOn1jH413TJUJocSKh/UpMhsv2q+6aKiv1S76yqTg9KZQ7RE4gm3nkoocw/5Xd+F48l42lg+nhxnmacQItlpqv4195Vd9tCUlKszT1z5F2lumkXmLIl2t7orxbMQ0/PRaPJjOvp4eXEyTQZ7Ii2qwORPv5xcJFKK2t8rRJ2v2Eiw0yu9WWimwti73g6uX11v8DLcmRKeUmdTUxBmLnBoXF4jBWNTguF/A6xjHJ9N0XLRyuq26MEw+iI3YsnuEIZrPCnEz1ldrg5eO7r2eDxJoq2387xKkvq9Io4na1kKBVFZ52PNseel76mzbGy18tjk7UzvITu8tcciJk7jxplOmc50ACoCLYtXmUOgDMpAxl1MnHVBr4i3yz4taUwEpTt38R5xRovYVkXR4XwtM82UrQ+OXccm+dL1mxY18RObo8tT8ScAAP//12ej24EEAAA=

- path: /etc/systemd/system/reconcile-private-hosts.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zTOMU4DMRCF4d6n8AUSn2AbBBJ0KAFRrLaYDG/ZkZyxNTOOCKdHAaV8r/m/+V0llvQIZ5Me0nQ6gJuyVOSC4LI1D8/rba/Ncje5UCBzHR6wNB9hF2Es6e3aMbmce0U6wIMspqa7laQOQ3r6Bh//znISLSfyLZfWo9DPMBRuGiQK82J3wOt/6/km2PuW5hf1oFqX9EEa+Hy4TudRQ3bDYfsg+0L8BgAA//8Sy/8V0QAAAA==

- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4SSUW/aMBSF3/0rTgGVVhsJfRutoikCtqG2ARW0akIImcQBr+k1s52yFvjvk5OWpVOr5Smy7z333M+nfuTnRvsLSb6gByy4WTFWR3cl4jvIFHYlwJ9yLRCTRKwolUtI48618DwPpEBCJLAKOifYlTQwsZZr69pJWVZHmBmFRFHTYsPJvqrdrAS5MuRG0rKc1YpJsimO0ErhCxv7MUmfhPUS/6zdKko8ZyWTxmKG42OI39KiXTiPBrCC3+NekJWKnFVuy1nSFJOcX5EgVRoxz2TsNrAbpe+wVpmMH9/YhckU0ylqjW3Un9wOby7no+HVoPtjX0MQoFbK1DCbXTgyxAC8eErl20DbWGiZLIVzxTMtePL4zDfXImF13IpnZlW+MoVRHpNrZJLuYFZq8yJXwaBzmq+zfCnp5BTbwk3paK20dYjm3eH1dRj1gsbZ4Tbm9v+0d/j5C02P+L0AN2gUPzt4McnvQhupqDh+eP7fwSt9mOnsQ4CtKz8vuz7ib8/5oWNfbWnPmtjBV2tbeHIhLfPxQMKyPWOVhcKbr+OgeflpPB8Ne/MovO6PR2G3HyQi5XlmL6o3wYFz6OS60aDJXrGJJuEg6t8MekGn0+lU76L+JBoHvs7JISLjH6T4k0ttpXTwpZgl7OpfkVE4+RZU12LuQQs98CRB42TBjSjQNraHqfvTyrsi7PVYkUo0PqO1tGijGj73HTQTkaH2nmitEg9pcVYEtjKo179ir5TedfcnAAD//9oCkudMBAAA

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0U8iMRDG3/evaIgPdw9lAYnBmD7ouXpE4hkX4wOSTbcMuw3ddtOZRbjz/vfLAnoHYk5jH6ff7/smk3ZGd1bTODgHVF6XpJ0VV1UKBij45uxE15UbSXm00Egowgp9aJySJky1DWcbaRCMYvBzrWAc3AKS9CSkeZRLDCI7197ZAixdaAMiBFLhBKayMvTCx5VSgBgtNMUkqULR7h4G0QJUXHvdeBCrvFRizkJXUih/Vh5C5SxJbcHjs1UT8z1cMZtoz3jJwrn0odHpS/J7tMrqt3rhijX0lI3YwZfCVZbYE8s8lOyhsZv00GBP7FExbr4yboC12JidMMrBsnXsCuc81Xbyqs3XhRM21Y193W9sCjkDjrn08NotCHZArElcoiLD+COzQE1dzrtNUmXigbwG7Ije/yHlPDTRFXKhnLWifXTY634gqpCLBJc2SaWaGZe9l1+lFoAoM0iUQxLd1geptPJIotd672As6Cxvbl5xM1MJ5R4wb4tu6/jocx4d0Wsfdz7ncbgZ3bYLX9tASjI1gIwTs7J+K0Yj7ZXqcldqqwK8Vs/Q7ry2t4NydqqzykOy+q2t+m/+Bd7YJewhYJvDOdg6nyP4OfitG+smwI1MwaBoHPy6ujuLBtEwuf5xHiWD07NoEP9ubAFz0WHbBWeqAnhpqkxbPtF+vZrqNrwFAgzXirUA/2EPntMuBqeX8b6L2+iyHw+j21U/e8r3/eH3ZHjavx7GQTDqWyRpzDi4l5ZgcrYURWVI8wrBN0n6DOhPAAAA//+HJPwRpwUAAA==



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    LimitNPROC=infinity
    LimitCORE=infinity
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }








- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]