[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6xXbXPauBb+7l9x6jJ56dYYk27a3A6doeA03FDMNSZ77+12PMY6Bk2M5EpyXrbNf9+xDMYkdJt0yodMLB0dPc95eSQ9f2bPKLNnkVwYru+Hp4OhG/7RDXpnYTD46HrToHMMhkQF1o1BE/gEVgI2z5Qd/ZULtGPOVEQZCmlngl9RSTlrxnyZpagQPr8FtUBmgP5hvOBgdlOBEbkFETFQHGQexygl4A1VlM2bzaa5Nr+hClpGQg1Dr2wckEjh4cvGwYJLxaIlHr4EqSKh4lwqvpSxoJl6906jWxpGwgVQoAwaBxK/gANHx63W4VsgXG9QkpE/IhNKnosYm3Jxjw3AXGAG1ukX2H9+5g7Hrj9xvdP9Jzjc24OZwOhSe0zoBlaDgoVfNOAHu+qwNHbnShthKrGyliliBs56B8IZGhIJWBRMuwbbJubjgRvlf09YYFxHVIUJF2FCUyyJOT9cT5lUUZrKIlbfvv0z80dCqrn8SVAxZwmd/0pMG4+G7rTfbgw36PXDsev6Yc/1g07joOyAr9vjg9NBrxu4kzv4BnGuwCL7n/aLBm1vBj7rAWcz8FIPNA4OGl9HXt8NB6O++9+735zDw8Patufu/3btOvYHF93ALaZ/3a4rddHy8gka3gQ6HWj0PN/1JqE3CUfdjy58rvdBqSS9RcTmlM2BYBLlqYLLfIaxSmFGGaQ8jhTlrFST8+l7txcMOzoVKzOtLJWkXUXCFjmzBc44V5bALzkVSLbaz3ffe17gu/+ZDny331EiR6PqtnuTSVRMFFuU6c0FdsmSsqlEsaZqNr5+GE/DIiB3JjzrgFm4NLe5xilGbJp9GE/7gl6hkNrpxVk/HHofJrrsxt3grFOrsqsFsVaFXmlxxbTxYCk8DC1BhbFCAnOeEmRAl9EcIRO49mvWsfXWVT0ozKSeOp0Oh+FgNAm6w2F4LypVzKowDCbhxVn/zoQOFCHYjsAG1lQW6b446wOhUgkOs1yBbt4drBhXkPCcEXOHdhbmumNHXhCeetNRvy7Cu8HrfK+LZlOo0/fTUTCtFWqh6wWrnV4Kius01ziuwtrHTG7CU5L+UEvBW5CXNMvKos+QEWQxRblevqr4R2CsZ5zJojhzQlW/XFo6q7Lq50zRJVYTI1TXXFyO03xOWTV6ns8wRXVeNleXkeK/seA3t3Uwz37U2RqMP+6VrSMwUlg4+hgxmqBUfSoMozR6iK/qtPM3svbVGw2M9edY0KtIYS/NpUJxxqWSa38rAquvf/NcsCjV2Hdnsp69Rwe7+G0XdZsQJ0bntdV6fYLWq9ZRbM2Ofm9bkXPSdhDbrdeI8A5seSvtWS7tq2Xxl5RaYC+uwlzR1M7ZjDKyOfZXR7xzRP/85bv8yUywUcW2iJuFzKbr1kmoIZZaTYvZqNCjTDWLwDeJfXKSoaCc0PgpxRllKpyjCrNczBHaLThqgdNuQZRF8QLbVgFLwl6pid3hoN8NBt4odH2/0zKM7ngQTlz/wvXD/mgS+m7gD9xJp91aI6gZ6L07HXjRzMoaSSm7bL6ow/muO31LnQSTTuV4Euhab22zWU36rib+wnSO3zSPj5pO+6TpHJsv4GGt3OOktev8zSSsQen+f+q7GtDQ886n4/C0Oxg+vAk+wtMuHwnd6FHNtOeNRlUAfm/V2T0tpuXve56dVquuywKVuI2XJKRJmEQ0zQVC4+t3Ft8VV35gMVhXf21bFbDu4NWro+IG94i4aK86IitlbWwf9vePz/3yEgHrS8RLKAcK2WacYPEocWBJWa5wXy+rHmFgxWDKRa4Iv2ZgCXBgz/wJjYkytYzE5R/dIWX5TXeOTEHOFjwlsPcgr09zbedS2CmdVQ0ub6XCJWmSiKa3K/ePxVC97syefsRB+YqDhDIqF0iaRWmARHGFAmLOGMbFGQfxAuNLiDnBf5nQ2M7hPzwXkZGdj8XlJaECrGz3Xb040BXP48WjX75GJiHKb5Lr60JUN4sqSyuTzZTPYc8wykvJPQrGc9c7Nf4OAAD//2wxr/qeDwAA

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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






- path: /opt/azure/containers/reconcilePrivateHosts.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/3SS4U/bOhTFv/uvOJjoPUBy0/IekyhkDI2iVTDoVG1fEJtMckMtUjvYNx0b8L9PSUNJJ9EvtePj3/U992xuxDfGxjc6zIQIxFAO1lU2EL9sS1NSrk0hxC2x0qUJ5BfklSlV7t1csb4NW9t4FEC9TKKttPIFVJieQ32C/EysM816CPYVScgZczmM48G7/d7u3v+99j+et7rY2MDaphSnbl5WTHGNPdKlUQvywTib7PYH+6r/nxoM/smdn2tOmB5YbgvA5LiCjI4kkgSyL3F9AJ6RFQAwPp0m8kDCk86gvK4ffG4C4/DwEDKq68hGmDsPA2Mho8dWc/Xh+lkeIHONoOn1jH413TJUJocSKh/UpMhsv2q+6aKiv1S76yqTg9KZQ7RE4gm3nkoocw/5Xd+F48l42lg+nhxnmacQItlpqv4195Vd9tCUlKszT1z5F2lumkXmLIl2t7orxbMQ0/PRaPJjOvp4eXEyTQZ7Ii2qwORPv5xcJFKK2t8rRJ2v2Eiw0yu9WWimwti73g6uX11v8DLcmRKeUmdTUxBmLnBoXF4jBWNTguF/A6xjHJ9N0XLRyuq26MEw+iI3YsnuEIZrPCnEz1ldrg5eO7r2eDxJoq2387xKkvq9Io4na1kKBVFZ52PNseel76mzbGy18tjk7UzvITu8tcciJk7jxplOmc50ACoCLYtXmUOgDMpAxl1MnHVBr4i3yz4taUwEpTt38R5xRovYVkXR4XwtM82UrQ+OXccm+dL1mxY18RObo8tT8ScAAP//12ej24EEAAA=

- path: /etc/systemd/system/reconcile-private-hosts.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zTOMU4DMRCF4d6n8AUSn2AbBBJ0KAFRrLaYDG/ZkZyxNTOOCKdHAaV8r/m/+V0llvQIZ5Me0nQ6gJuyVOSC4LI1D8/rba/Ncje5UCBzHR6wNB9hF2Es6e3aMbmce0U6wIMspqa7laQOQ3r6Bh//znISLSfyLZfWo9DPMBRuGiQK82J3wOt/6/km2PuW5hf1oFqX9EEa+Hy4TudRQ3bDYfsg+0L8BgAA//8Sy/8V0QAAAA==

- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0U8iMRDG3/evaIgPdw9lAYnBmD7ouXpE4hkX4wOSTbcMuw3ddtOZRbjz/vfLAnoHYk5jH6ff7/smk3ZGd1bTODgHVF6XpJ0VV1UKBij45uxE15UbSXm00Egowgp9aJySJky1DWcbaRCMYvBzrWAc3AKS9CSkeZRLDCI7197ZAixdaAMiBFLhBKayMvTCx5VSgBgtNMUkqULR7h4G0QJUXHvdeBCrvFRizkJXUih/Vh5C5SxJbcHjs1UT8z1cMZtoz3jJwrn0odHpS/J7tMrqt3rhijX0lI3YwZfCVZbYE8s8lOyhsZv00GBP7FExbr4yboC12JidMMrBsnXsCuc81Xbyqs3XhRM21Y193W9sCjkDjrn08NotCHZArElcoiLD+COzQE1dzrtNUmXigbwG7Ije/yHlPDTRFXKhnLWifXTY634gqpCLBJc2SaWaGZe9l1+lFoAoM0iUQxLd1geptPJIotd672As6Cxvbl5xM1MJ5R4wb4tu6/jocx4d0Wsfdz7ncbgZ3bYLX9tASjI1gIwTs7J+K0Yj7ZXqcldqqwK8Vs/Q7ry2t4NydqqzykOy+q2t+m/+Bd7YJewhYJvDOdg6nyP4OfitG+smwI1MwaBoHPy6ujuLBtEwuf5xHiWD07NoEP9ubAFz0WHbBWeqAnhpqkxbPtF+vZrqNrwFAgzXirUA/2EPntMuBqeX8b6L2+iyHw+j21U/e8r3/eH3ZHjavx7GQTDqWyRpzDi4l5ZgcrYURWVI8wrBN0n6DOhPAAAA//+HJPwRpwUAAA==



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    LimitNPROC=infinity
    LimitCORE=infinity
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }








- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]