[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4SSUW/aMBSF3/0rTgGVVhsJfRutoikCtqG2ARW0akIImcQBr+k1s52yFvjvk5OWpVOr5Smy7z333M+nfuTnRvsLSb6gByy4WTFWR3cl4jvIFHYlwJ9yLRCTRKwolUtI48618DwPpEBCJLAKOifYlTQwsZZr69pJWVZHmBmFRFHTYsPJvqrdrAS5MuRG0rKc1YpJsimO0ErhCxv7MUmfhPUS/6zdKko8ZyWTxmKG42OI39KiXTiPBrCC3+NekJWKnFVuy1nSFJOcX5EgVRoxz2TsNrAbpe+wVpmMH9/YhckU0ylqjW3Un9wOby7no+HVoPtjX0MQoFbK1DCbXTgyxAC8eErl20DbWGiZLIVzxTMtePL4zDfXImF13IpnZlW+MoVRHpNrZJLuYFZq8yJXwaBzmq+zfCnp5BTbwk3paK20dYjm3eH1dRj1gsbZ4Tbm9v+0d/j5C02P+L0AN2gUPzt4McnvQhupqDh+eP7fwSt9mOnsQ4CtKz8vuz7ib8/5oWNfbWnPmtjBV2tbeHIhLfPxQMKyPWOVhcKbr+OgeflpPB8Ne/MovO6PR2G3HyQi5XlmL6o3wYFz6OS60aDJXrGJJuEg6t8MekGn0+lU76L+JBoHvs7JISLjH6T4k0ttpXTwpZgl7OpfkVE4+RZU12LuQQs98CRB42TBjSjQNraHqfvTyrsi7PVYkUo0PqO1tGijGj73HTQTkaH2nmitEg9pcVYEtjKo179ir5TedfcnAAD//9oCkudMBAAA

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0U8iMRDG3/evaIgPdw9lAYnBmD7ouXpE4hkX4wOSTbcMuw3ddtOZRbjz/vfLAnoHYk5jH6ff7/smk3ZGd1bTODgHVF6XpJ0VV1UKBij45uxE15UbSXm00Egowgp9aJySJky1DWcbaRCMYvBzrWAc3AKS9CSkeZRLDCI7197ZAixdaAMiBFLhBKayMvTCx5VSgBgtNMUkqULR7h4G0QJUXHvdeBCrvFRizkJXUih/Vh5C5SxJbcHjs1UT8z1cMZtoz3jJwrn0odHpS/J7tMrqt3rhijX0lI3YwZfCVZbYE8s8lOyhsZv00GBP7FExbr4yboC12JidMMrBsnXsCuc81Xbyqs3XhRM21Y193W9sCjkDjrn08NotCHZArElcoiLD+COzQE1dzrtNUmXigbwG7Ije/yHlPDTRFXKhnLWifXTY634gqpCLBJc2SaWaGZe9l1+lFoAoM0iUQxLd1geptPJIotd672As6Cxvbl5xM1MJ5R4wb4tu6/jocx4d0Wsfdz7ncbgZ3bYLX9tASjI1gIwTs7J+K0Yj7ZXqcldqqwK8Vs/Q7ry2t4NydqqzykOy+q2t+m/+Bd7YJewhYJvDOdg6nyP4OfitG+smwI1MwaBoHPy6ujuLBtEwuf5xHiWD07NoEP9ubAFz0WHbBWeqAnhpqkxbPtF+vZrqNrwFAgzXirUA/2EPntMuBqeX8b6L2+iyHw+j21U/e8r3/eH3ZHjavx7GQTDqWyRpzDi4l5ZgcrYURWVI8wrBN0n6DOhPAAAA//+HJPwRpwUAAA==



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    LimitNPROC=infinity
    LimitCORE=infinity
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
      ,"default-runtime": "nvidia",
      "runtimes": {
         "nvidia": {
             "path": "/usr/bin/nvidia-container-runtime",
             "runtimeArgs": []
        }
      }
    }







- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]